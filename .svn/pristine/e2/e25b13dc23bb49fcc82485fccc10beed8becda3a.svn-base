/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.super_bits.modulosSB.SBCore.InfoCampos;

import com.super_bits.modulosSB.SBCore.InfoCampos.anotacoes.InfoCampo;
import com.super_bits.modulosSB.SBCore.InfoCampos.campo.FabCampos;
import com.super_bits.modulosSB.SBCore.InfoCampos.registro.ItemGenerico;
import java.lang.reflect.Field;

/**
 *
 * @author Salvio
 */
public class UtilSBCoreCampoReflexao {

    public static Field getSBCampobyTipoCampo(Class pClasse, FabCampos pTipoCampo) {

        Class classe = pClasse;
        boolean fim = false;
        while (!fim) {

            Field[] fields = classe.getDeclaredFields();

            for (Field field : fields) {
                InfoCampo annotationField = field.getAnnotation(InfoCampo.class);

                if (annotationField != null) {

                    if (annotationField.tipo().equals(pTipoCampo)) {
                        return field;
                    }
                    // injetaValor(field, annotationField, objectInstance, campos);
                }
            }

            classe = classe.getSuperclass();

            if (classe.getSimpleName().equals(ItemGenerico.class.getSimpleName())
                    || classe.getSimpleName().contains("Entdidade")
                    || classe.getSimpleName().equals(Object.class.getSimpleName())) {
                fim = true;
            }
        }
        return null;
    }
}
